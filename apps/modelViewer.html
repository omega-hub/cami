<html lang="en">
<head>
    <title>Model Viewer Test</title>
    <link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
    <script src="jquery-1.12.0.min.js"></script>
    <script src="jquery.mobile-1.4.5.min.js"></script>
    <script src="porthole/res/porthole.js"></script>

    <style>
    .button{
    background-color: #D3D3D3; 
    border: 1px black;
    color: black;
    text-align: center;
    vertical-align: middle;
    width:200px;
    height: 30px;
    font-size: 15px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 3px;
    float: center;
    }

    .collapsible{
        width: 300px;
        background-color: red; 
    }

    </style> 
</head>

<body>
    <div data-role="header">
        <a href="#nav-panel" data-icon="bars" data-iconpos="notext">Menu</a>
        <h1>Model Viewer</h1>
    </div>

    <div data-role="panel" data-position-fixed="true" data-display="push" data-theme="b" id="nav-panel">
        <ul data-role="listview">


            <li data-icon="delete"><a href="#" data-rel="close" >Close menu</a></li>
          
            <li data-role="collapsible">
                <h4>    Molecule Demo </h4>
               <!-- added extra information to the button, class and id -->
                <button class="panel-button" data-panelid="panel1"> <img src="images/images.jpeg" class:"leftimage" alt="colorful boxes" style="width:40%"></img>1st molecule</button>
            </li>
        <div id="collapsable">
            <li data-role="collapsible">
                <h4>Stars Demo</h4>
                <div id="pageButtons">


                </div>
                
            </li>
        </div>

        </ul>
    </div><!-- /panel -->
      
    
    <script>
        porthole.connected = function(event) {
            {{py startApplication(%client_id%, 'modelViewer') }}
            document.addEventListener("mousemove", porthole.sendMouseMove);
            document.addEventListener("mouseup", porthole.sendMouseUp);
            document.addEventListener("mousedown", porthole.sendMouseDown);
            document.addEventListener("keypress", porthole.sendKeyDown);
            document.addEventListener("keyup", porthole.sendKeyUp);       }
        
        modelList=null

        function createModelButtons(ml) {
            // save the argument to the global modelList variable
            // so we can access it from other parts of the interface
            // and we can pass it back to the server app using {{mc@app}}
           modelList=ml;
            //use this $('id of object') to get the object's id and do stuff with it.
            $('nav-panel').hide(300).show(1000).hide(200).show(1000);
            //other events, fadeIn/fadeOut, fadeToggle, slideUp, slideDown
            // you can use the .html operator to rewrite HTML code!!!
            // example $('nav-panel').html('codecodecodecode<tag>')
            // this completely removes the elements inside of the HTML tag and replaces it with your own code.
            // to listen to a button, you use the operator.
            i=0;
            n = ml.length;
            var pageButtons = $('#pageButtons');
            while (i < n)
            {
                pageButtons.append('<input type="button" class="button" id="button'+i+'" value="'+ ml[i][1]+'" onclick="modelButtonClicked(event)" />');
                i = i + 1;
            }



            /* some links of helpful guides 
                https://www.youtube.com/watch?v=G-POtu9J-m4&feature=iv&src_vid=hMxGhHNOkCU&annotation_id=annotation_1494025287

                https://www.youtube.com/watch?v=Cc3K2jDdKTo&list=UUVTlvUkGslCV_h-nSAId8Sw&feature=iv&src_vid=G-POtu9J-m4&annotation_id=annotation_4141828117

                http://stackoverflow.com/questions/21192763/how-to-dynamically-add-list-items-in-jquery

                http://stackoverflow.com/questions/20685492/creating-dynamic-list-with-jquery
                */

        }
        //creating a jquery function for always occuring events.
       function modelButtonClicked(event) {

                {{mc@app: onModelSelect("%event.target.path%" + "%event.target.value%") }}
                //$('#'+panelID).toggle(); //you can concatenate strings with +.
                //use the '#' to get the object the id is referring to.
                //var newString = "my new String"
               // $('#'+panelID+ ' .panel-body').html(newString);
               
            }
        
    </script>
    
    
</body>
</html>
